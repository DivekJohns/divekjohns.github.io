<!-- Project{
	Name: Assigment  evenrank.com
    Author: Divek John
    Date:   6/12/2018
} -->

<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!--   including bootstrap and jquery -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script type="text/javascript">
</script>
	<title> Assigment evenrank.com</title>
	<style type="text/css">
	/* setting image width to 100% */
		img{
			width: 100%;
		}

       .row > .col-sm-4 >img{
			width: 50px;
		}

		.col-sm-4{
			border: 1px solid black;
			min-height: 60px;
		}
		.col-sm-6>img{
		width: 50px;
		margin :5px;
		
		}
		#id{
			padding: 2px;
			background-color: #E0E0E0;
		}

		body{
			height: 2500px;
		}
	</style>

	<script type="text/javascript">
		//setting index to zero to start from 0 pos array of elements and pre to -1 ensure intial value
    var index=0;
    var pre=-1;

    //function to change logo round cycle the grid
			function logo() {
 		     var columns=document.querySelectorAll(".col-sm-4");
 		     get='#'+pre;
 		     $(get).remove();
 		     //using append to, append to the img to col-sm-4
 		     $("<img id="+index+" src='./assets/logo.png'></img>").appendTo($(columns[index]));
//check if reaches end and set index and pre 
 		     if(index==5){
 		     	     index=0;
 		     	     pre=5;
 		         }
 		     	  else{
 		     	  	//increment index and point pre to last element
 		     	    	index++;
 		     		    pre=index-1;
 		     	     }
        }
       
//function to get data of json from url
	function getData(txt){
//check if value is <3
	if(txt.length<3){
      alert("minimum 3 characters required")
	}
	else{
		//set text to loading while the getjson happens
		$('#resultinfo').text("Loading...");
		 $.getJSON("https://restcountries.eu/rest/v2/name/"+txt,
	  function(data, status){
	  	//checking is sucess 
	  		if(status=="success"){
	  			//removing all elements from result box
	  			$("#result").empty();
	  			  $('#resultinfo').text("Results");
 				var columns=document.querySelectorAll(".col-sm-6");
	 	      console.log(data);
	 	      //using $.each to render search result from the given object from the data
	 	  	$.each(data, function(i,item){
	 	  	console.log(item);
	 	  	//using object name and value to render it into html
	 	  	 $( "<div class='col-sm-6 '>"+item.name+"</div>").appendTo($('#result'));
	 	          	$( "<div class='col-sm-6'><img src="+item.flag+"></img></div>").appendTo($('#result'));
	 	  });
	  		}
	  //handling fail request if no rseult found or an error	
    }).fail(()=>{
    	$("#result").empty();
    	 $('#resultinfo').text("No Data Found");
    });
	}
     }


    

	$(document).ready(function(){
 	 	$( "#change" ).click(logo);
	    $("#search").click(()=>{
	    	getData( $("#searchtxt").val());
	    }); 
	    //using keyup function to get a user frendly approach
	      $("#searchtxt").keyup(()=>{
	if( $("#searchtxt").val().length>2){
	    	getData( $("#searchtxt").val());
	    }
	    }); 
 	 });

//logo chages its position every 2 sec
	setInterval(logo,2000);


	</script>
</head>
<body>
	<nav class=" navbar  navbar-inverse ">

		  <ul class="nav navbar-nav ">
		<li> <h3 style="color: #f0f0f0">&nbsp;&nbsp;&nbsp;Divek john</h3> </li>
	</ul>
  <ul class="nav navbar-nav navbar-right">
    <li><a href="#slidermain">Assigment 1</a></li>
    <li><a href="#gridmain">Assigment 2</a></li>
    <li><a href="#apimain">Assigment 3</a></li>
        <li><a href="#"></a></li>
  </ul>

</nav>
<div class="container" id="slidermain" >
  <h2>Assigiment 1</h2>
  <!--   using class carousel and slide for animation -->
  <div id="slider" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
<!--  active class to mke sure it visible and starts from there -->
      <div class="item active">
        <img src="./assets/pubg.png" >
      </div>

      <div class="item">
        <img src="./assets/god.png" >
      </div>
    
      <div class="item">
        <img src="./assets/farcry.png">
      </div>

        <div class="item">
        <img src="./assets/prototype.png">
      </div>

        <div class="item">
        <img src="./assets/callofduty.png" >
      </div>

    </div>
    <!-- data-slide attribute to slide back and forth -->
    <a class="left carousel-control" href="#slider" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left"></span>
    </a>
    <a class="right carousel-control" href="#slider" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right"></span>
    </a>
  </div>
</div>
<br>
<!-- grid movement assigment 2 -->
<div class="container"  id="gridmain">
  <h2>   Assigiment 2</h2>
<div id="grid" class="container">
  <div class="row">
  <div class="col-sm-4"></div>
  <div class="col-sm-4"> </div>
  <div class="col-sm-4"> </div>
  <div class="col-sm-4"> </div>
  <div class="col-sm-4"> </div>
   <div class="col-sm-4"></div>
</div>

<button style=" width:100% "id="change" class=" btn btn-primary ">Move</button>
</div>
</div>
<hr>
<div class="container" id="apimain">
  <h2>   Assigiment 3</h2>
 <div id="api">
 	<div class="container">
	 <div class="form-group ">
       	 <input type="text" id="searchtxt" class="form-control" placeholder="Search country">
       	  <button id="search"  style="width:100%" class="btn btn-primary">Search</button>
       	  <div class="container" >
       	  	<h3 id="resultinfo"></h3>
  					 <div id="result" class="row ">
  					 	
  					 </div>
				</div>
     		 </div>
 		</div>	
 	</div>
 </div>
</body>
</html>